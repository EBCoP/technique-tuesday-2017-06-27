[Click here to return to the main README file.](./README.md)

Introduction
------------

Like the recursion example, nobody tried to solve the challenge using a
functional methodology. This is the most abstract method we will discuss
today. It is also the best and easiest to type. But first, let's
introduce some new concepts. Most programming languages have functions,
or something similar like a SAS macro. But not all programming languages
treat functions as a first-class citizen. R does, and this is important.
Because a function is just a type of object, R lets you handle a
function like you would any other object, including passing a function
to another function as a parameter.

BOOM! Did you heah just explode?

Because a functional is a function which accepts a function as an input
parameter.

I know, many of you are probably about to stop reading. So, please, hold
on. The example does make sense.

In the previous examples, we used the function `dir` to find all of the
CSV files in the `data/` folder. To do that, we had to pass `dir`
instructions in the form of parameters. A function is nothing more than
some code which accepts input in a structured manner. It is an
abstraction.

A functional is one step higher in terms of abstraction. A functional is
a function which accepts a function as a parameter. An example might
help. The functional `lapply` will apply an arbitrary function to every
member in a vector. In our previous examples, we always created a vector
called `csv_files`. And we already have a function we want to use,
`read_csv`. Our other examples were simply long-winded ways of using
`read_csv` on every item in `csv_files`. The functional `lapply` just
makes this same idea easier to read/write.

    ## Init ------------------------------------------------------------------------
    library(readr)   ## Replaces read.csv with read_csv (faster).
    if (exists("foo_data")) rm(foo_data)

    ## Vector of CSV files from data/ ----------------------------------------------
    csv_files <- dir("data/", pattern="csv", full.names = TRUE)

    ## Note: It is not necessary to create a blank data.frame with this method.

    ## Imports the CSV data --------------------------------------------------------
    ## This could be done in one step, but it is easier to play with this way.
    foo_data <- lapply(X=csv_files, FUN=read_csv)
    foo_data <- data.frame(foo_data)

This reduces our work to two steps. In practice, I would write this as a
single step `foo_data <- data.frame(lapply(X=csv_files, FUN=read_csv))`.

The functional `lapply` returns a list. That list has 20 elements in it,
because csv\_files has 20 entries. Each element in the list is a data
frame composed of the data from a single file. The function `data.frame`
converts the list to a data frame.

The end result is a single data frame, with all of the data from our 20
files.

Take a look at this code and think about it. This is a high-level idea
and is something even some experienced programmers struggle with. But,
it is an incredibly powerful concept.

**Note:** I know of no way to replicate this in SAS. AFAIK, SAS does not
treat functions as first-class citizens and therefore does not support
this kind of programming technique.

The Results
-----------

    print(paste("We imported", nrow(foo_data), "rows of data.", sep=" "))

    ## [1] "We imported 100 rows of data."

    str(foo_data)

    ## 'data.frame':    100 obs. of  100 variables:
    ##  $ first_col    : int  20 24 96 50 44 26 43 31 42 44 ...
    ##  $ second_col   : int  275 24 189 194 21 180 7 482 65 315 ...
    ##  $ third_col    : int  607 182 452 667 947 841 157 238 277 888 ...
    ##  $ fourth_col   : chr  "Cat" "Gecko" "Hamster" "Iguana" ...
    ##  $ fifth_col    : chr  "a" "q" "d" "c" ...
    ##  $ first_col.1  : int  10 19 79 36 46 47 9 48 93 81 ...
    ##  $ second_col.1 : int  447 359 59 1 423 6 170 149 479 368 ...
    ##  $ third_col.1  : int  230 154 336 967 557 681 39 979 833 784 ...
    ##  $ fourth_col.1 : chr  "Alpaca" "Hermit Crab" "Cat" "Frog or Toad" ...
    ##  $ fifth_col.1  : chr  "b" "o" "m" "f" ...
    ##  $ first_col.2  : int  76 41 86 8 88 88 15 14 91 13 ...
    ##  $ second_col.2 : int  272 370 466 373 48 492 462 384 424 41 ...
    ##  $ third_col.2  : int  996 13 606 183 897 506 575 527 223 474 ...
    ##  $ fourth_col.2 : chr  "Mouse" "Dog" "Cat" "Rat" ...
    ##  $ fifth_col.2  : chr  "l" "p" "x" "w" ...
    ##  $ first_col.3  : int  46 20 15 100 44 46 31 23 28 44 ...
    ##  $ second_col.3 : int  200 264 457 359 154 279 450 285 256 203 ...
    ##  $ third_col.3  : int  770 245 652 657 122 304 69 963 985 687 ...
    ##  $ fourth_col.3 : chr  "Iguana" "Sheep" "Horse" "Snake" ...
    ##  $ fifth_col.3  : chr  "m" "z" "t" "n" ...
    ##  $ first_col.4  : int  5 96 84 72 80 93 3 42 18 19 ...
    ##  $ second_col.4 : int  215 13 287 397 101 299 434 402 17 301 ...
    ##  $ third_col.4  : int  657 543 685 821 380 174 954 565 571 261 ...
    ##  $ fourth_col.4 : chr  "Horse" "Horse" "Gerbil" "Rat" ...
    ##  $ fifth_col.4  : chr  "h" "t" "g" "r" ...
    ##  $ first_col.5  : int  25 45 16 55 85 90 14 51 59 72 ...
    ##  $ second_col.5 : int  158 133 191 329 293 298 115 317 302 423 ...
    ##  $ third_col.5  : int  301 838 487 1 145 195 882 505 20 426 ...
    ##  $ fourth_col.5 : chr  "Alpaca" "Salamander" "Hermit Crab" "Ant Farm" ...
    ##  $ fifth_col.5  : chr  "g" "y" "y" "y" ...
    ##  $ first_col.6  : int  88 9 37 65 64 16 24 34 94 60 ...
    ##  $ second_col.6 : int  14 387 110 128 412 105 367 372 11 361 ...
    ##  $ third_col.6  : int  670 655 471 166 734 482 165 673 822 779 ...
    ##  $ fourth_col.6 : chr  "Gecko" "Mantis" "Salamander" "Mantis" ...
    ##  $ fifth_col.6  : chr  "g" "p" "p" "b" ...
    ##  $ first_col.7  : int  35 28 41 14 29 60 79 32 29 48 ...
    ##  $ second_col.7 : int  45 270 119 163 148 444 328 323 173 440 ...
    ##  $ third_col.7  : int  638 754 553 905 492 368 545 297 435 799 ...
    ##  $ fourth_col.7 : chr  "Horse" "Gerbil" "Newt" "Salamander" ...
    ##  $ fifth_col.7  : chr  "u" "k" "i" "e" ...
    ##  $ first_col.8  : int  50 31 40 43 90 50 11 76 44 28 ...
    ##  $ second_col.8 : int  116 497 216 461 6 227 34 29 434 163 ...
    ##  $ third_col.8  : int  961 71 515 87 556 139 171 490 202 424 ...
    ##  $ fourth_col.8 : chr  "Mantis" "Ant Farm" "Guinea Pig" "Goat" ...
    ##  $ fifth_col.8  : chr  "b" "b" "h" "c" ...
    ##  $ first_col.9  : int  37 90 11 41 39 38 67 92 1 24 ...
    ##  $ second_col.9 : int  75 27 384 442 378 45 344 194 335 233 ...
    ##  $ third_col.9  : int  250 335 284 378 310 100 693 471 207 244 ...
    ##  $ fourth_col.9 : chr  "Goat" "Spider" "Bird" "Gerbil" ...
    ##  $ fifth_col.9  : chr  "v" "f" "p" "h" ...
    ##  $ first_col.10 : int  6 9 60 22 46 48 49 14 1 98 ...
    ##  $ second_col.10: int  460 367 151 132 489 44 398 96 491 216 ...
    ##  $ third_col.10 : int  259 351 622 942 336 584 666 90 194 225 ...
    ##  $ fourth_col.10: chr  "Bird" "Iguana" "Ferret" "Alpaca" ...
    ##  $ fifth_col.10 : chr  "t" "h" "t" "s" ...
    ##  $ first_col.11 : int  48 71 62 19 20 10 41 39 9 44 ...
    ##  $ second_col.11: int  227 303 343 487 453 97 15 33 451 123 ...
    ##  $ third_col.11 : int  515 177 590 280 808 58 422 618 662 223 ...
    ##  $ fourth_col.11: chr  "Hamster" "Gerbil" "Turtle or Tortoise" "Bird" ...
    ##  $ fifth_col.11 : chr  "d" "y" "u" "o" ...
    ##  $ first_col.12 : int  37 86 12 83 7 77 4 50 64 37 ...
    ##  $ second_col.12: int  466 100 107 41 11 322 231 69 474 443 ...
    ##  $ third_col.12 : int  548 650 656 63 229 656 624 422 993 80 ...
    ##  $ fourth_col.12: chr  "Salamander" "Guinea Pig" "Frog or Toad" "Gecko" ...
    ##  $ fifth_col.12 : chr  "s" "p" "t" "r" ...
    ##  $ first_col.13 : int  34 27 93 68 35 8 14 13 48 95 ...
    ##  $ second_col.13: int  253 167 432 80 495 89 252 355 441 240 ...
    ##  $ third_col.13 : int  349 588 839 20 207 365 87 426 442 120 ...
    ##  $ fourth_col.13: chr  "Ant Farm" "Guinea Pig" "Bird" "Fish" ...
    ##  $ fifth_col.13 : chr  "r" "o" "v" "y" ...
    ##  $ first_col.14 : int  49 53 28 1 13 21 22 59 87 51 ...
    ##  $ second_col.14: int  480 37 315 396 240 14 358 481 387 450 ...
    ##  $ third_col.14 : int  725 191 789 457 92 860 943 419 150 311 ...
    ##  $ fourth_col.14: chr  "Mouse" "Ferret" "Guinea Pig" "Turtle or Tortoise" ...
    ##  $ fifth_col.14 : chr  "q" "g" "s" "v" ...
    ##  $ first_col.15 : int  97 91 97 42 37 61 66 64 21 70 ...
    ##  $ second_col.15: int  285 201 86 213 283 69 440 13 11 85 ...
    ##  $ third_col.15 : int  812 430 52 472 798 343 287 199 283 403 ...
    ##  $ fourth_col.15: chr  "Frog or Toad" "Turtle or Tortoise" "Horse" "Rabbit" ...
    ##  $ fifth_col.15 : chr  "q" "u" "v" "z" ...
    ##  $ first_col.16 : int  2 63 34 74 18 91 39 45 26 38 ...
    ##  $ second_col.16: int  46 150 56 148 51 21 133 337 381 433 ...
    ##  $ third_col.16 : int  454 151 817 140 159 365 81 759 896 359 ...
    ##  $ fourth_col.16: chr  "Dog" "Stick-Bugs" "Newt" "Salamander" ...
    ##  $ fifth_col.16 : chr  "o" "z" "w" "f" ...
    ##  $ first_col.17 : int  97 27 79 4 65 48 22 24 9 57 ...
    ##  $ second_col.17: int  244 53 165 150 186 308 276 382 468 9 ...
    ##  $ third_col.17 : int  387 253 885 684 937 38 426 526 271 253 ...
    ##  $ fourth_col.17: chr  "Salamander" "Cat" "Dog" "Gecko" ...
    ##  $ fifth_col.17 : chr  "v" "o" "o" "n" ...
    ##  $ first_col.18 : int  92 36 14 77 55 30 31 1 37 11 ...
    ##  $ second_col.18: int  345 384 241 499 311 197 279 422 405 83 ...
    ##  $ third_col.18 : int  330 123 398 948 886 665 655 962 974 289 ...
    ##  $ fourth_col.18: chr  "Hamster" "Hermit Crab" "Gerbil" "Cat" ...
    ##  $ fifth_col.18 : chr  "c" "a" "o" "q" ...
    ##  $ first_col.19 : int  62 36 92 51 19 21 27 47 47 31 ...
    ##  $ second_col.19: int  427 212 326 361 381 277 460 110 257 280 ...
    ##  $ third_col.19 : int  586 10 956 680 913 23 108 284 600 942 ...
    ##  $ fourth_col.19: chr  "Alpaca" "Guinea Pig" "Goat" "Sheep" ...
    ##   [list output truncated]

[Click here to return to the main README file.](./README.md)
